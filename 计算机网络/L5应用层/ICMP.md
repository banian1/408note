![](https://cdn.xiaolincoding.com/gh/xiaolincoder/ImageHost/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/IP/40.jpg)


```ad-note
title: ICMP差错报文

1. 终点不可达。当路由器或主机不能交付数据报时，就向源点发送终点不可达报文。
2. 源点抑制.当路由器或主机因为拥塞而丢弃数据报时，就向源点发送源点抑制报文，使
源点知道应当把数据报的发送速率放慢。
3. 时间超过。当路由器收到一个数据报时，会将其首部中生存时间(TTL)的值减 1。若结
果不为0，则路由器将该数据报转发出去。若结果为 0,则路由器不但要丢弃该数据报， 而且要向源点发送时间超过报文。当终点在预先规定的时间内不能收到一个数据报的全部数据报片时，就把已收到的数据报片都丢弃，并向源点发送时间超过报文。
4. 参数问题。当路由器或目的主机收到的数据报的首部中有的字段(注意不是任意字段)
的值不正确时，就丢弃该数据报，并向源点发送参数问题报文。
5. 改变路由(重定向)。路由器把改变路由报文发送给主机，让主机知道下次应将数据报发
送给另外的路由器(可通过更好的路由)。
```
```ad-note
title:ICMP询问报文
1. 回送请求和回答报文。用来测试目的主机是否可达以及了解其有关状态。
2. 时间戳请求和回答报文。利用报文中记录的时间戳，发送方可计算出当前的往返时延，
```
