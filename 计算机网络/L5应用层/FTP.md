1️⃣ **FTP 的基本概念**

| 项目    | 内容                          |
| ----- | --------------------------- |
| 协议名称  | FTP（File Transfer Protocol） |
| 功能    | 实现主机间的**文件上传/下载**           |
| 协议层级  | 应用层协议（OSI 第 7 层）            |
| 使用的协议 | **TCP**（面向连接，可靠传输）          |
| 默认端口  | 控制连接：21 端口；数据连接：20 端口（主动模式） |
2️⃣ **连接类型**

| 类型       | 描述                                        |
| -------- | ----------------------------------------- |
| **控制连接** | 客户端 → 服务器 **TCP 21**，传输命令和响应，**整个会话期间保持** |
| **数据连接** | 用于传送文件内容或目录列表，**传完即断开**                   |
### 3️⃣ **主动模式 vs 被动模式**

#### 📌 主动模式（Active Mode）

- 控制连接：客户端 → 服务器的 TCP 21
- 数据连接：服务器的 TCP **20** → 客户端指定的高端口
- 客户端需**开放端口等待连接**

#### 📌 被动模式（Passive Mode）

- 控制连接：客户端 → 服务器的 TCP 21
- 数据连接：客户端 → 服务器的某个**随机高端口**（由服务器告知）
- **更常用于穿越防火墙或 NAT**