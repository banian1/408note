磁盘地址用“柱面号-盘面号-扇区号”表示。

1. 物理格式化
一个新的磁盘只是一个磁性记录材料的空白盘。在磁盘可以存储数据之前,必须将它分成扇 区,以便磁盘控制器能够进行读/写操作,这个过程称为低级格式化(也称物理格式化)。每个扇 区通常由头部、数据区域和尾部组成。头部和尾部包含了一些磁盘控制器的使用信息,其中利用 磁道号、磁头号和扇区号来标志一个扇区,利用 CRC 字段对扇区进行校验。
2. 分区
每个分区由一个或多个柱面组成,每个分区的起始扇区和大小都记录 在磁盘主引导记录的分区表中。
对物理分区进行逻辑格式化(也称高级格式化),将 初始的文件系统数据结构存储到磁盘上,这些数据结构包括空闲的空间和已分配的空间,以及一个初始为空的目录,建立根目录、对保存空闲磁盘块信息的数据结构进行初始化。
[[Lecture15 FileSystem]]
## 管理

一次磁盘读写操作的时间由寻找(寻道)时间、旋转延迟时间和传输时间决定。


1) 寻道时间$T_s$。活动头磁盘在读写信息前,将磁头移动到目的磁道所需的时间。这个时间除跨越$n$条磁道的时间外,还包括启动磁头臂的时间$s$,则$$T_s=mn+s$$式中，$m$是每跨越一个磁道所需的时间，约为0.2ms;磁头臂的启动时间约为 2ms。)
2) 旋转延迟时间$T_\mathrm{r}$。磁头定位到要读/写扇区所需的时间，设磁盘的旋转速度为$r$,则
$$T_{\mathrm{r}}=\frac{1}{2r}$$对于硬盘，典型的旋转速度为 5400 转/分，相当于一周 11.1ms,则 $T_\mathrm{r}$为 5.55ms; 对于软
盘，其旋转速度为 300~600 转/分，则 $T_{\mathrm{r}}$为 50~100ms。
3) 传输时间$T_\mathrm{t}$。从磁盘读出或向磁盘写入数据所需的时间，这个时间取决于每次所读/写的
字节数$b$和磁盘的旋转速度$r$,则
$$T_\mathrm{t}=\frac{b}{rN}$$

式中，$r$为磁盘每秒的转数，$N$为一个磁道上的字节数。
总平均存取时间 $T_\mathrm{a}$可以表示为
$$T_\text{a}=T_\text{s}+\frac{1}{2r}+\frac{b}{rN}$$
## 调度算法
1. 先来先服务(First Come First Served,FCFS)算法
2. 最短寻道时间优先(Shortest Seek Time First, SSTF)算法
3. 扫描(SCAN)算法,也称电梯调度算法。
4. 循环扫描(Circular SCAN, C-SCAN) 算法
 在SCAN 算法的基础上规定磁头单向移动来提供服务,返回时直接快速移动至起始端而不服务任何请求。采用 SCAN 算法和C-SCAN 算法时,磁头总是严格地遵循从盘面的一端到另一端,显然,在 实际使用时还可以改进,即磁头只需移动到最远端的一个请求即可返回,不需要到达磁盘端点。这 种改进后的SCAN 算法和C-SCAN 算法称为LOOK 调度和C-LOOK 调度, 因为它们在朝一个给定方向移动前会查看是否有请求。